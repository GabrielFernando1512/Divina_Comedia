<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>O Inferno de Dante</title>
  <style>
    @font-face {
      font-family: 'Cinzel Decorative';
      src: url('CinzelDecorative-Regular.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
    }
    body {
      background-color: #0d0d0d;
      color: #f2f2f2;
      font-family: Georgia, serif;
      text-align: center;
      padding: 20px;
    }
    #abertura {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      padding: 40px;
      box-sizing: border-box;
    }
    #abertura p {
      max-width: 600px;
      margin: 0 0 20px 0;
      font-size: 22px;
    }
    #placa {
      margin: 0;
      padding: 0;
      color: #8b0000;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    #btnProsseguir {
      padding: 14px 28px;
      font-size: 22px;
      background-color: #8b0000;
      color: #f2f2f2;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #btnProsseguir:hover {
      background-color: #a30000;
    }
    #banner {
      background-size: cover;
      background-position: center;
      height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #f2f2f2;
      text-shadow: 2px 2px 6px #000;
      border-bottom: 3px solid #8b0000;
      overflow: hidden;
      position: relative;
      cursor: pointer;
    }
    #banner:hover {
      overflow: auto;
    }
    #banner h1 {
      font-size: 60px;
      margin: 0;
      letter-spacing: 2px;
    }
    #banner h2 {
      font-size: 28px;
      margin: 8px 0 0 0;
    }
    .enigma {
      margin: 50px auto;
      max-width: 800px;
      font-size: 22px;
      line-height: 1.6;
      padding: 20px;
      border: 1px solid #333;
      background-color: #1a1a1a;
      border-radius: 8px;
    }
    #dica {
      margin-top: 20px;
    }
    input[type="text"] {
      padding: 12px;
      font-size: 20px;
      width: 280px;
      margin-top: 20px;
      border-radius: 4px;
      border: none;
    }
    button {
      padding: 12px 24px;
      font-size: 20px;
      margin: 12px 6px 0 6px;
      cursor: pointer;
      background-color: #8b0000;
      color: #f2f2f2;
      border: none;
      border-radius: 4px;
    }
    button:hover {
      background-color: #a30000;
    }
    .oculto {
      color: #0d0d0d;
    }
    #lightbox {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.95);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 99999;
    }
    #lightbox img {
      max-width: 90%;
      max-height: 90%;
      border: 5px solid #8b0000;
    }
    #transicao {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      color: #f2f2f2;
      z-index: 9999;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 40px;
    }
  </style>
</head>
<body>

<div id="abertura">
  <audio id="musica" src="tua-musica.mp3" loop></audio>
  <p id="fala1" style="display:none;">
    Virg√≠lio aproxima-se da grande arcada de pedra e aponta para a placa entalhada h√° eras:
  </p>
  <div id="placa" style="display:none;">
    ‚ÄúAbandonai toda a esperan√ßa, v√≥s que entrais.‚Äù
  </div>
  <p id="fala2" style="display:none;">
    Virg√≠lio retorna a falar, sem desviar os olhos da escurid√£o adiante:<br />
    <i>‚ÄúEstas s√£o as palavras que selam o caminho para o tormento eterno. Nenhuma alma cruza este umbral e retorna a ser a mesma.‚Äù</i>
  </p>
  <button id="btnProsseguir" onclick="mostrarProximo()" style="display:none;">Prosseguir</button>
</div>

<audio id="audioErro" src="tua-musica.mp3"></audio>

<div id="banner" onclick="abrirLightbox()">
  <h1>O Inferno de Dante</h1>
  <h2 id="circulo">C√≠rculo 1 - Limbo</h2>
</div>

<div id="lightbox" onclick="fecharLightbox()">
  <img id="imagemAmpliada" src="" />
</div>

<!-- Tela de transi√ß√£o -->
<div id="transicao">
  <p id="textoTransicao" style="font-size:24px;max-width:800px;margin-bottom:30px;"></p>
  <a id="arquivoTransicao"
     href="A_Divina_Comedia.pdf"
     download
     style="display:none;color:#8b0000;font-size:20px;margin-bottom:20px;">
    üìú Pegar manuscrito
  </a>
  <button onclick="prosseguirTransicao()"
          style="padding:14px 28px;font-size:22px;
                 background-color:#8b0000;color:#f2f2f2;
                 border:none;border-radius:5px;cursor:pointer;">
    Seguir adiante
  </button>
</div>

<div class="enigma" id="enigma"></div>
<div id="dica"></div>

<input type="text" id="resposta" /><br />

<button id="btnEnviarResposta" onclick="verificarResposta()">Enviar</button>
<button id="btnMutar" onclick="mutarSom()">Mutar / Desmutar M√∫sica</button>

<script>
  let musica;
  let tocando = true;
  let etapa = 0;
  let indice = 0;

  let etapa = 0;




function iniciarAbertura() {
  const fala1 = document.getElementById('fala1');
  const fala2 = document.getElementById('fala2');
  const placa = document.getElementById('placa');
  const btn = document.getElementById('btnProsseguir');

  fala1.style.display = 'block';
  setTimeout(() => {
    fala1.style.display = 'none';
    placa.style.display = 'block';
    setTimeout(() => {
      placa.style.display = 'none';
      fala2.style.display = 'block';
      setTimeout(() => {
        btn.style.display = 'inline-block';
      }, 2000);
    }, 2000);
  }, 2000);
}

window.onload = function() {
  musica = document.getElementById('musica');

  document.getElementById('transicao').style.display = 'none';

  if (sessionStorage.getItem('aberturaFeita')) {
    document.getElementById('abertura').style.display = 'none';
    musica.play();
    carregarEnigma();
  } else {
    etapa = 0;
    document.getElementById('fala1').style.display = 'none';
    document.getElementById('fala2').style.display = 'none';
    document.getElementById('placa').style.display = 'none';
    document.getElementById('btnProsseguir').style.display = 'none';
    document.getElementById('btnProsseguir').innerText = 'Prosseguir';
    iniciarAbertura();
  }
};



  
function mostrarProximo() {
  document.getElementById('abertura').style.display = 'none';
  sessionStorage.setItem('aberturaFeita', 'true');
  musica.play();
  carregarEnigma();
}

function mutarSom() {
    if (tocando) {
      musica.pause();
      tocando = false;
    } else {
      musica.play();
      tocando = true;
    }
  }

  const imagens = ['dore-1.jpg','dore-2.jpg','dore-3.jpg','dore-4.jpg','dore-5.jpg','dore-6.jpg','dore-7.jpg','dore-8.jpg','caravaggio.jpg'];

  function carregarBanner() {
    const imagemEscolhida = imagens[Math.floor(Math.random() * imagens.length)];
    const banner = document.getElementById('banner');
    banner.style.backgroundImage = `url('${imagemEscolhida}')`;
    banner.setAttribute('data-imagem', imagemEscolhida);
  }

  const enigmas = [
    {
      circulo: 'C√≠rculo 1 - Limbo',
      texto: 'Virg√≠lio murmura enquanto aponta para os vultos que vagueiam sem tormento: \n\n<i>"Aqui repousam os grandes do passado, privados da luz divina. Ouvi dizer que C√©sar, de armadura reluzente, nomeou certa vez o guardi√£o do Terceiro C√≠rculo. Desvela esse nome oculto entre as palavras: FHUEHUR."</i>',
      resposta: 'CERBERO'
    },
    {
      circulo: 'C√≠rculo 2 - Lux√∫ria',
      texto: 'Os ventos uivam sem descanso, arrastando almas desfeitas. Virg√≠lio se Inclina e diz: \n\n<i>"Neste Redemoinho Eterno, um nome ecoa acorrentado pelos pr√≥prios desejos. Entre os que amaram al√©m da conta, h√° um que tua lembran√ßa deve trazer √† tona. Somente Ela, que o amou Incansavelmente poderia te dizer."</i> <span class="oculto">(UROYQ)</span>',
      resposta: 'PAOLO'
    },
    {
      circulo: 'C√≠rculo 3 - Gula',
      texto: 'Ao pisar na lama p√∫trida, as bocas famintas ecoam sons indecifr√°veis. Virg√≠lio aponta para os s√≠mbolos profanos:\n\n <i>"As almas devoradas pela gula falam em l√≠ngua esquecida. Desvenda este nome oculto sob a cifra dos porcos."</i><br><br>üùï·íß  ·ê±‚™Ω‚üî·íß·í™·í•‚äê·íß‚äê‚òê  ‚òê·ê≥‚òê‚üîüùï·íß  ‚™Ω  ·í¨‚üî‚™Ω‚äè‚òê·ê≥·íß  ‚äê‚™Ω·êØ  ·í¨‚òê·í™·íß‚äê‚™Ω·êØ  ‚üî‚òê·ê±‚òê·í∑·íß  ‚™Ω  ‚äê‚òê·êØ·ê≥·í•üùï‚™Ω  ·êØ‚™Ω‚™æ‚äî‚üî·í•‚™Ω  ‚äê‚òê  ‚äè·í∑‚™Ω‚üî‚òêüùï·í™·íß',
      resposta: 'CIACCO'
    },
    {
      circulo: 'C√≠rculo 4 - Avareza',
      texto: 'Virg√≠lio pisa entre os amontoadores e dissipadores e sussurra: \n\n<i>"V√™s aqueles que rodopiam suas riquezas eternamente. Um n√∫mero antigo marca o nome de quem tragou tesouros e afundou com eles."</i><br><br>VII.61.22.3',
      resposta: 'CARIBDE'
    },
    {
      circulo: 'C√≠rculo 5 - Ira',
      texto: '√Ä beira do Estige, as almas iradas se devoram aos gritos. Virg√≠lio fita o horizonte e adverte: <i>"Entre imagens e vis√µes blasfemas, h√° uma obra estranha a este inferno. Quando teus olhos notarem o impostor, revela o nome de seu autor profano."</i>',
      resposta: 'CARAVAGGIO'
    }
  ];

  function carregarEnigma() {
    document.getElementById('enigma').innerHTML = enigmas[indice].texto;
    document.getElementById('circulo').innerText = enigmas[indice].circulo;
    document.getElementById('resposta').value = '';
    document.getElementById('dica').innerText = '';
    carregarBanner();
  }

  function verificarResposta() {
    const input = document.getElementById('resposta').value.trim().toUpperCase();
    if (input === enigmas[indice].resposta.toUpperCase()) {
      indice++;
      if (indice < enigmas.length) {
        // Transi√ß√£o no 4¬∞ enigma (√≠ndice 3)
        if (indice === 3) {
          mostrarTransicao(
            '<i>Virg√≠lio observa em sil√™ncio e ent√£o diz:</i><br><br>' +
            '<i>"Chegaste at√© aqui, mas restam profundezas mais sombrias. ' +
            'Estes escritos lhe podem ser √∫teis, melhor manter por perto..."</i>',
            true
          );
        } else {
          carregarEnigma();
        }
      } else {
        // fim dos enigmas
        document.getElementById('enigma').innerHTML =
          '<i>Virg√≠lio sussurra: "Voc√™ desvendou todos os c√≠rculos. ' +
          'Mas o verdadeiro teste ainda est√° por vir..."</i>';
        document.getElementById('resposta').style.display = 'none';
        // Ocultar s√≥ os bot√µes relacionados ao enigma, para n√£o esconder o mutar m√∫sica
        document.getElementById('btnEnviarResposta').style.display = 'none';
        document.getElementById('btnProsseguir').style.display = 'none';
      }
    } else {
      alert('Resposta errada, alma condenada.');
      location.reload();
    }
  }

  function mostrarTransicao(texto, mostrarArquivo = false) {
    document.getElementById('textoTransicao').innerHTML = texto;
    document.getElementById('transicao').style.display = 'flex';
    document.getElementById('arquivoTransicao').style.display = mostrarArquivo ? 'block' : 'none';
  }

  function prosseguirTransicao() {
    document.getElementById('transicao').style.display = 'none';
    carregarEnigma();
  }

  function abrirLightbox() {
    const imagem = document.getElementById('banner').getAttribute('data-imagem');
    document.getElementById('imagemAmpliada').src = imagem;
    document.getElementById('lightbox').style.display = 'flex';
  }

  function fecharLightbox() {
    document.getElementById('lightbox').style.display = 'none';
  };

</script>

</body>
</html>
